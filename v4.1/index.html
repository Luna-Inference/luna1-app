<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Luna Companion App</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="app-container">
        <!-- Welcome Screen -->
        <div id="welcome-screen" class="screen active">
            <div class="content welcome-content">
                <h1>Meet Luna</h1>
                <div class="welcome-subtitle">
                    <p>Your private AI assistant that runs completely on your device</p>
                </div>


                <div class="welcome-device">
                    <img src="assets/luna-intro.png" alt="Luna Device" class="device-image">
                    <div class="welcome-chat-bubble">
                        <div class="typing-text">Hi there! Let's get your Luna AI assistant set up. Don't worry - we'll walk through this step by step, and it's easier than it looks!</div>
                    </div>
                </div>

                <button class="primary-btn get-started-btn" onclick="nextScreen('setup-step1')">Get Started</button>
            </div>
        </div>

        <!-- Setup Step 1: Power Device -->
        <div id="setup-step1" class="screen">
            <div class="content setup-content">
                <div class="step-header">
                    <span class="step-number">Step 1 of 3</span>
                    <h2>Plug in Your Luna Device</h2>
                </div>
                
                <div class="setup-flow">
                    <!-- Step 1: Identify the power adapter -->
                    <div class="setup-step-block">
                        <div class="components-intro">
                            <div class="component-with-chat">
                                <img src="assets/power-supply-intro.png" alt="Power adapter" class="component-image">
                                <div class="component-chat-bubble">
                                    <div class="component-typing-text">You'll need this black power adapter - it should be in your Luna box!</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Step 2: Connection images with integrated instructions -->
                    <div class="setup-step-block">
                        <div class="step-images">
                            <div class="connection-step">
                                <div class="step-with-chat">
                                    <img src="assets/power-supply-to-wall.png" alt="Connect power adapter to wall" class="step-image">
                                    <div class="step-chat-bubble">
                                        <div class="step-typing-text">1. Plug the big end into any wall outlet in your home</div>
                                    </div>
                                </div>
                            </div>
                            <div class="connection-step">
                                <div class="step-with-chat">
                                    <img src="assets/luna-to-power.png" alt="Connect power to Luna" class="step-image">
                                    <div class="step-chat-bubble">
                                        <div class="step-typing-text">2. Plug the small end into Luna - look for the round hole</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Step 3: Final instructions and button -->
                    <div class="setup-step-block">
                        <div class="detailed-instructions">
                            <p>Look for a small red light on Luna - if you see it, you're doing great! No light? Just push both plugs in a little harder until they feel snug.</p>
                        </div>
                        <button class="primary-btn" onclick="nextScreen('setup-step2')">Next: Connect Device</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Setup Step 2: Connect Device -->
        <div id="setup-step2" class="screen">
            <div class="content setup-content">
                <div class="step-header">
                    <span class="step-number">Step 2 of 3</span>
                    <h2>Connect Luna to Your Computer</h2>
                </div>
                
                <div class="setup-flow">
                    <!-- Step 1: Identify the cable -->
                    <div class="setup-step-block">
                        <div class="components-intro">
                            <div class="component-with-chat">
                                <img src="assets/network-cable-intro.png" alt="Network cable" class="component-image">
                                <div class="component-chat-bubble">
                                    <div class="component-typing-text">You'll need this cable - it looks like a thick phone charger!</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Step 2: Connection images with integrated instructions -->
                    <div class="setup-step-block">
                        <div class="step-images">
                            <div class="connection-step">
                                <div class="step-with-chat">
                                    <img src="assets/luna-to-network-cable.png" alt="Connect network cable to Luna" class="step-image">
                                    <div class="step-chat-bubble">
                                        <div class="step-typing-text">1. Plug one end into Luna - look for the rectangular hole</div>
                                    </div>
                                </div>
                            </div>
                            <div class="connection-step">
                                <div class="step-with-chat">
                                    <img src="assets/network-cable-to-computer.png" alt="Connect network cable to computer" class="step-image">
                                    <div class="step-chat-bubble">
                                        <div class="step-typing-text">2. Plug the other end into your computer - find a similar hole</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Step 3: Final instructions and button -->
                    <div class="setup-step-block">
                        <div class="detailed-instructions">
                            <p>Push both ends in until you hear a "click" sound - that's how you know they're connected! Can't find the right hole on your computer? Check your Luna box for a small adapter piece.</p>
                        </div>
                        <button class="primary-btn" onclick="nextScreen('startup-wait-screen')">Next: Wait for Luna</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Startup Wait Screen -->
        <div id="startup-wait-screen" class="screen">
            <div class="content setup-content">
                <div class="step-header">
                    <span class="step-number">Step 3 of 3</span>
                    <h2>Waking Up Luna...</h2>
                </div>
                <div class="loading-animation">
                    <div class="spinner"></div>
                </div>
                <div class="detailed-instructions">
                    <p><strong>Please wait about 30 seconds for Luna to start up.</strong></p>
                    <p>While you wait, here are some interesting things about Luna:</p>
                </div>
                
                <!-- Organic Feature Showcase -->
                <div class="organic-features-showcase" id="startup-organic-showcase">
                    <div class="organic-feature">
                        <div class="feature-prefix">üí° Did you know?</div>
                        <div class="feature-highlight">Luna runs completely on your device</div>
                        <div class="feature-description">Unlike ChatGPT or other cloud services, Luna processes everything locally. Your conversations never leave your computer, and there are no usage fees!</div>
                    </div>

                    <div class="organic-feature">
                        <div class="feature-prefix">ü§î Fun fact:</div>
                        <div class="feature-highlight">You can create custom AI experts</div>
                        <div class="feature-description">Upload documents to teach Luna about specific topics. Want a cooking expert? Upload recipes. Need a work assistant? Upload your company handbook!</div>
                    </div>

                    <div class="organic-feature">
                        <div class="feature-prefix">‚ú® Here's something cool:</div>
                        <div class="feature-highlight">Luna works without internet</div>
                        <div class="feature-description">Once set up, you can chat with Luna even when offline. Perfect for travel, remote work, or just maintaining complete privacy.</div>
                    </div>

                    <div class="organic-feature">
                        <div class="feature-prefix">üíù Bonus:</div>
                        <div class="feature-highlight">Luna provides emotional support too</div>
                        <div class="feature-description">Need someone to talk to? Luna is designed to be empathetic and supportive, available 24/7 whenever you need a friendly conversation.</div>
                    </div>

                    <div class="organic-feature coming-soon">
                        <div class="feature-prefix">üöÄ Coming soon:</div>
                        <div class="feature-highlight">Voice conversations<span class="coming-soon-badge">Soon</span></div>
                        <div class="feature-description">We're adding natural voice chat so you can talk to Luna just like a friend. All processing will still happen locally on your device!</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Face Selection -->
        <div id="face-selection-screen" class="screen">
            <div class="content setup-content">
                <div class="step-header">
                    <span class="step-number">Step 3 of 3</span>
                    <h2>What do you see on Luna's screen?</h2>
                </div>
                <div class="face-selection-container">
                    <div class="face-option" onclick="handleFaceSelection('correct')">
                        <img src="assets/luna-face.png" alt="Happy face">
                        <p>A happy, smiling face</p>
                    </div>
                    <div class="face-option" onclick="handleFaceSelection('incorrect')">
                        <img src="assets/luna-intro.png" alt="Blank screen">
                        <p>A blank or dark screen</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Face Troubleshooting -->
        <div id="face-troubleshooting-screen" class="screen">
            <div class="content">
                <h2>Let's troubleshoot the connection</h2>
                <div class="error-icon">‚ö†Ô∏è</div>
                <div class="detailed-instructions">
                    <p><strong>No problem! Let's figure this out together:</strong></p>
                    <ul style="text-align: left; max-width: 500px; margin: 1rem auto; line-height: 1.6;">
                        <li><strong>Is Luna's power light on?</strong> - Look for a small light anywhere on Luna</li>
                        <li><strong>Check the power cable</strong> - Make sure it's pushed all the way into Luna</li>
                        <li><strong>Wait a little longer</strong> - Some Luna devices take up to 90 seconds to start</li>
                        <li><strong>Try restarting Luna</strong> - Unplug the power for 10 seconds, then plug it back in</li>
                    </ul>
                </div>
                <div class="error-actions">
                    <button class="primary-btn" onclick="nextScreen('face-selection-screen')">Try Again</button>
                </div>
            </div>
        </div>

        <!-- Device Scanning -->
        <div id="device-scanning" class="screen">
            <div class="content">
                <h2>Looking for Your Luna Device</h2>
                <div class="loading-animation">
                    <div class="spinner"></div>
                </div>
                <div class="detailed-instructions">
                    <p><strong>Great! Now I'm looking for Luna on your computer.</strong></p>
                    <p>This is automatic - I'm checking if your computer can "see" Luna through the cable you just connected.</p>
                    <p><em>This usually takes 10-30 seconds. Just wait and don't unplug anything!</em></p>
                </div>
                <div class="scan-options" style="display: none;">
                    <p>Taking longer than expected?</p>
                    <button class="secondary-btn" onclick="showScreen('scan-failed')">Need Help</button>
                </div>
            </div>
        </div>

        <!-- Scan Failed -->
        <div id="scan-failed" class="screen">
            <div class="content">
                <h2>Let's Double-Check Your Setup</h2>
                <div class="error-icon">‚ö†Ô∏è</div>
                <div class="detailed-instructions">
                    <p><strong>Don't worry! This happens sometimes. Let's check a few things:</strong></p>
                    <ol>
                        <li><strong>Is Luna plugged into power?</strong> - Look for a small light on Luna</li>
                        <li><strong>Is the cable connected properly?</strong> - Both ends should be pushed in firmly until you hear a "click"</li>
                        <li><strong>Did you see Luna's happy face?</strong> - Luna needs to be fully awake before we can connect</li>
                        <li><strong>Try a different port</strong> - If your computer has multiple rectangular ports, try another one</li>
                    </ol>
                    <p><em>Most connection issues are just loose cables or Luna hasn't finished starting up yet.</em></p>
                </div>
                <div class="error-actions">
                    <button class="secondary-btn" onclick="nextScreen('setup-step1')">Start Over from Step 1</button>
                    <button class="primary-btn" onclick="nextScreen('device-scanning')">Try Connecting Again</button>
                </div>
            </div>
        </div>

        <!-- Connection Success -->
        <div id="connection-success" class="screen">
            <div class="content">
                <div class="success-icon">‚úÖ</div>
                <h2>Perfect! Luna is Connected</h2>
                <div class="detailed-instructions">
                    <p><strong>Excellent work! üéâ</strong></p>
                    <p>Your computer found Luna and they're now talking to each other. The hard part is done!</p>
                    <p>Now let's introduce you to Luna so she knows what to call you.</p>
                </div>
                <button class="primary-btn" onclick="nextScreen('name-entry')">Continue to Introduction</button>
            </div>
        </div>

        <!-- Name Entry -->
        <div id="name-entry" class="screen">
            <div class="content">
                <h2>What Should Luna Call You?</h2>
                <div class="detailed-instructions">
                    <p><strong>Let's introduce yourself to Luna!</strong></p>
                    <p>Just type your first name (or whatever you'd like Luna to call you). This will be saved so Luna remembers you.</p>
                    <p><em>Examples: "Sarah", "Mom", "Dr. Smith", "Chef Bob" - whatever feels right!</em></p>
                </div>
                <div class="input-group">
                    <input type="text" id="user-name" placeholder="Type your name here..." maxlength="50">
                    <button class="primary-btn" onclick="startChat()">Meet Luna!</button>
                </div>
            </div>
        </div>

        <!-- Chat Interface -->
        <div id="chat-interface" class="screen">
            <div class="chat-container">
                <div class="chat-header">
                    <h3>Chat with Luna</h3>
                </div>
                <div class="chat-messages" id="chat-messages">
                    <!-- Messages will be added dynamically -->
                </div>
                <div class="chat-recommendations" id="chat-recommendations">
                    <!-- Recommendation buttons will be added dynamically -->
                </div>
                <div class="chat-input-container">
                    <input type="text" id="chat-input" placeholder="Type your message..." onkeypress="handleChatKeyPress(event)">
                    <button onclick="sendMessage()">Send</button>
                </div>
            </div>
        </div>

        <!-- Dashboard -->
        <div id="dashboard" class="screen">
            <div class="dashboard-container">
                <div class="dashboard-header">
                    <h2>Luna Dashboard</h2>
                    <p>Welcome to your AI-powered workspace</p>
                </div>
                <div class="app-grid">
                    <div class="app-tile">
                        <div class="app-icon">üí¨</div>
                        <h3>Chat</h3>
                        <p>Talk with Luna about anything</p>
                    </div>
                    <div class="app-tile">
                        <div class="app-icon">üß†</div>
                        <h3>Expert Creation</h3>
                        <p>Upload files to create topic experts</p>
                    </div>
                    <div class="app-tile">
                        <div class="app-icon">‚ù§Ô∏è</div>
                        <h3>Emotional Support</h3>
                        <p>Personal conversations and support</p>
                    </div>
                    <div class="app-tile">
                        <div class="app-icon">‚ùì</div>
                        <h3>Q&A</h3>
                        <p>General knowledge and assistance</p>
                    </div>
                    <div class="app-tile coming-soon">
                        <div class="app-icon">üé§</div>
                        <h3>Voice Chat</h3>
                        <p>Real-time voice interaction</p>
                        <span class="coming-soon-badge">Coming Soon</span>
                    </div>
                    <div class="app-tile coming-soon">
                        <div class="app-icon">‚öôÔ∏è</div>
                        <h3>Automation</h3>
                        <p>Email, CRM, web search tools</p>
                        <span class="coming-soon-badge">Coming Soon</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Floating Chat Toggle Button -->
    <div id="chat-toggle-btn" class="hidden" onclick="toggleChat()">
        <span>üí¨</span>
    </div>

    <script src="script.js"></script>
</body>
</html>